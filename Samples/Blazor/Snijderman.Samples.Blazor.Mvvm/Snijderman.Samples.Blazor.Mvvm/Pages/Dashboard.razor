@page "/"
@inherits MvvmViewModelComponentBase<DashboardViewModel>
@if (this.ViewModel?.Customers == default)
{
   <div class="sk-cube-grid">
      <div class="sk-cube sk-cube1"></div>
      <div class="sk-cube sk-cube2"></div>
      <div class="sk-cube sk-cube3"></div>
      <div class="sk-cube sk-cube4"></div>
      <div class="sk-cube sk-cube5"></div>
      <div class="sk-cube sk-cube6"></div>
      <div class="sk-cube sk-cube7"></div>
      <div class="sk-cube sk-cube8"></div>
      <div class="sk-cube sk-cube9"></div>
   </div>
}
else
{
   <Tabs SelectedTab="@Bind(x => x.SelectedItem)" SelectedTabChanged="@ViewModel.SetSelectedTab">
      <Items>
         @foreach (var customer in this.ViewModel.Customers)
         {
            <Tab Name="@customer.CompanyID" @key=customer>@customer.CompanyName</Tab>
         }
      </Items>
      <Content>
         @foreach (var customer in this.ViewModel.Customers)
         {
            @*<TabPanel Name="@customer.CompanyID" @key=customer>*@
            <TabPanel Name="@customer.CompanyID">
               <Snijderman.Samples.Blazor.Mvvm.Components.MainTabContent ViewModelInput="@customer" />
            </TabPanel>
         }
      </Content>
   </Tabs>
}
